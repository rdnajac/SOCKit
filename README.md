# SOCKit: Socker-Oriented Concurrency Kit
This project is built with [dune](https://dune.build/). Clone the repo and run `dune build` to build the project (don't `dune init`!).

```sh
git clone git@github.com:rdnajac/SOCKit.git
cd SOCKit
dune build
```

Optionally, run `dune install` to install the project to your system.

### Hello World
To make sure the project builds correctly run `dune exec -- sockit --hello`.
If you opted to install the project, you can simply run `sockit --hello` instead.

### SOCKopt
The `sockit` executable takes a few options. Run `sockit --help` to see them all.

#### files
`SOCKit` can take a files as an argumen with option `-f` or `--file`.

#### SOCKrepl
You can run the read-eval-print loop with the `-r` or `--repl` option.

#### debug
The option `-s` or `--scan` will run the scanner on the input file.

# Project Structure

## dune-project
This file is used to specify the version of dune to use, among other globs.

## dune
This file is used to specify the build configuration for the project. Not sure if it's set up correctly.

## SOCK.opam
This file is used to provide information to `opam`, The project's package manager. Do not edit this file directly, `dune` will handle it.

## .ocamlformat
Don't edit this file. This let's us run `dune fmt` to automatically format our code.

## lib
everything here is built with `dune build` automatically when we build from the top level directory

### hello
hello world

### core
The core of the project. This is where the lexer, parser, and abstract syntax tree are defined.
* lexer.mll (builds with `ocamllex`)
* parser.mly (builds with `ocamllyacc`)
* ast.mli (the abstract syntax tree)

### listener
Opens a socket and listens for incoming connections,
then echoes the data back to the client.

## bin
This is where the `sockit` executable is built. There is one file, `main.ml`, which is the entry point for the program.

# TODO
* require `dune clean` and `dune fmt` before pushing to the repo
    - this can be done with a git hook

